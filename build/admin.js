document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".kaigen-remove-key").forEach((function(e){e.addEventListener("click",(function(){const e=this.getAttribute("data-provider"),n=document.getElementById("kaigen_"+e+"_api_key");n&&(n.value=""),t()}))}));const e=document.querySelector('select[name="kaigen_provider"]');function n(){const n=e.value;if(document.querySelectorAll('input[id*="kaigen_"][id*="_api_key"]').forEach((function(e){const n=e.closest("tr");n&&(n.style.display="none")})),n){const e=document.getElementById("kaigen_"+n+"_api_key");if(e){const n=e.closest("tr");n&&(n.style.display="")}}t()}function t(){const n=e?e.value:"",t=document.getElementById("kaigen-provider-warning-row");if(t&&t.remove(),n){const t=document.getElementById("kaigen_"+n+"_api_key");if(t&&!t.value.trim()){const t=document.createElement("div");t.className="notice notice-warning inline",t.style.margin="10px 0",t.innerHTML="<p><strong>Warning:</strong> You have selected "+function(n){const t=e.querySelector('option[value="'+n+'"]');return t?t.textContent:n}(n)+" but no API key is set. Please enter your API key below.</p>";const o=e.closest("tr");if(o){const e=document.createElement("tr");e.id="kaigen-provider-warning-row";const n=document.createElement("td");n.colSpan=2,n.appendChild(t),e.appendChild(n),o.parentNode.insertBefore(e,o.nextSibling)}}}}e&&(n(),e.addEventListener("change",n)),document.querySelectorAll('input[id*="kaigen_"][id*="_api_key"]').forEach((function(e){e.addEventListener("input",(function(){setTimeout(t,300)}))})),e&&t()}));